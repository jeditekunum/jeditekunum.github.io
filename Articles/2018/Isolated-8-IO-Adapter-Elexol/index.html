<!DOCTYPE html>
<html xmlns="https://www.w3.org/1999/xhtml">
 <head>

   <meta charset="utf-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
   
	
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="robots" content="index, follow" />
		<meta name="generator" content="RapidWeaver" />
		<link rel="icon" href="https://jeditekunum.github.io/favicon.ico" type="image/x-icon" />
		<link rel="shortcut icon" href="https://jeditekunum.github.io/favicon.ico" type="image/x-icon" />
		<!-- User defined head content such as meta tags and encoding options -->
	<title>Isolated 8 I/O Adapter for Elexol et al. | Jedi Tek'Unum</title>
	
	<!-- Google's Font service -->		
	<link href='https://fonts.googleapis.com/css?family=Raleway:400|Ruluko|Open%20Sans%20Condensed:300|Bree%20Serif|?rwcache=676658080' rel='stylesheet' type='text/css'>  
	<!-- Awesome Font - Icons -->  
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.2/css/font-awesome.min.css"> 
		   		   
	<link rel="stylesheet" type="text/css" media="all" href="https://jeditekunum.github.io/rw_common/themes/lander/consolidated.css" />
		
	
	
	<!-- Style variations - these are set up in the theme.plist -->
	<!-- User defined styles -->
			
	 <!--<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> -->
	 <!-- jquery 1.11.0 embedded -->
	 <script type="text/javascript" src="https://jeditekunum.github.io/rw_common/themes/lander/js/jquery.min.js"></script>	  
     <script type="text/javascript" src="https://jeditekunum.github.io/rw_common/themes/lander/javascript.js"></script>
	 <script type="text/javascript" src="https://jeditekunum.github.io/rw_common/themes/lander/js/box.js"></script>
	 <script type="text/javascript" src="https://jeditekunum.github.io/rw_common/themes/lander/js/multithemes.js"></script> 
	 
	<!-- User defined javascript -->
	
	
	
</head>
	
<!-- This page was created with RapidWeaver from Realmac Software. http://www.realmacsoftware.com -->

<body>
<div id="container"><!-- Start container -->	 
<!--box trigger-->
<div id="drop" class="togglebox">
    <i class="fa fa-plus-square-o"></i>
  </div>
<div class="clearer"></div>
 <!--drop nav --> 
  <div id="accordion"><!-- BOX-->	 
     <div id="navcontainer_box">
     <div id="navcontainer_opacity"></div>
       <div id="navcontainer"><ul><li><a href="../../../" rel="">Home</a></li><li><a href="../../../Articles/" rel="" class="currentAncestor parent">Articles</a><ul><li><a href="../../../Articles/2018/" rel="" class="currentAncestor parent">2018</a><ul><li><a href="../../../Articles/2018/SX1509-Adapter-Adapter/" rel="">SX1509 Adapter Adapter</a></li><li><a href="./" rel="" id="current">Isolated 8 I/O Adapter for Elexol et al.</a></li><li><a href="../../../Articles/2018/Standard-Connector-for-I2C/" rel="">Standard Connector for I2C</a></li><li><a href="../../../Articles/2018/NanoPi-NEO-Adapter-V3/" rel="">NanoPi NEO Adapter V3</a></li><li><a href="../../../Articles/2018/I2C-Multiplexer-4-V2/" rel="">I2C Multiplexer 4 V2</a></li><li><a href="../../../Articles/2018/SX1509-Isolated-32-SF-V1/" rel="">SX1509 Isolated 32 SF V1</a></li><li><a href="../../../Articles/2018/Advanced-Central-Switch-Interface/" rel="">Advanced Central Switch Interface</a></li></ul></li><li><a href="../../../Articles/2017/" rel="" class="parent">2017</a><ul><li><a href="../../../Articles/2017/Automating-Ceiling-Fans/" rel="">Automating Ceiling Fans</a></li><li><a href="../../../Articles/2017/Automating-Ceiling-Fans-V2/" rel="">Automating Ceiling Fans V2</a></li></ul></li></ul></li><li><a href="../../../offsite/github.html" rel="">Github</a></li><li><a href="../../../sitemap/" rel="">Sitemap</a></li></ul></div>
      </div>
    </div><!-- BOX END--> 
   <div class="clearer"></div>    
  <div id="headerbox">  
   <div id="rw-banner-image"> </div>    
    <div id="banner_grid"></div>        
      <div id="pageHeader"><!-- Start page header -->
     <div id="logo"><a href="https://jeditekunum.github.io/"></a></div>
	  <div id="fade_titles">	
	   <h1>Jedi Tek'Unum</h1>
	   <h2>Adventures in Technology</h2></div>
    </div><!-- End page header -->        
  <div id="breadcrumbcontainer_box">  
    <div id="opacity_background"></div>
     <div id="breadcrumbcontainer">   
        
      </div><!-- End breadcrumb -->
    </div><!-- End breadcrumbcontainer_box -->  
  </div><!-- End headerbox-->     
 <div id="global_width">	 	
	 <div id="contentContainer"><!-- Start main content wrapper -->
		 <div id="content"><!-- Start content -->
		   <h1>Isolated 8 I/O Adapter for Elexol et al.</h1>
<h6>January 2018</h6>
<br>

<h2>Requirements</h2>
<p>
After a great deal of frustration locating a resonably priced solution for a large project, I resorted to my own design documented here. I had a need for a large number (64+) of I/O pins for a whole home automation project. I wanted to use simple/common wall switches with LED indicators, for example the Wattstopper LVSW series. My reasons include avoiding vendor lock-in with proprietary switches (the path Loxone is on). Since the switches would be placed all around my new home, I wanted an opto isolated interface.
<p>
The trouble with most home automation systems is that they are proprietary and despite their apparent flexibility when it comes to I/O, they aren't as flexible as one would assume and they certainly aren't inexpensive. For the moment I'm planning on using a Loxone Mini Server. I/O pins are expensive at the scale I'm doing. Some in the community have used the Elexol Io72 ethernet bridge that is less expensive (also has the burden of horrible Java-based admin interface). Both require additional circuits to connect to anything meaningful. By that I mean that the Elexol pins are <b><i>logic level</i></b> (5V) requiring yet another adapter. The Loxone has no built-in pull ups.
<p>
On the switch side of things one finds that there are a few ways in which switch vendors have implemented products. The Wattstopper LVSW happens to use a ground common line (for both switches and LEDs on the older versions with the ability to separate on the newer ones) and the LEDs need +24VDC drive; the switches pull their lines to common. Other products may have common positive, etc.
<p>
While most people won't bother, I wanted the ability to have some smarts when it comes to the LEDs. For example, dimming and, to a lesser degree, special effects like fade. Nothing about Loxone or Elexol makes that easy. My article <a href="../SX1509-Adapter-Adapter">SX1509 Adapter Adapter</a> discuss my SX1509 implementation that is an I/O expander with these capabilities - and it drives this adapter.
<p>
In short I was looking for something like the swiss army knife of I/O adapters. Something that would meet my immediate need and provide a very flexible base for future projects.

<h2>Mind Twisting Hardware Design</h2>
<p>
Here is my solution.
<p>
<a href="../../../resources/Articles/2018/Isolated-8-IO-Adapter-Elexol/Iso-IO8-Schematic.pdf"><img src="../../../resources/Articles/2018/Isolated-8-IO-Adapter-Elexol/images/Iso-IO8-Schematic.png"></a>
<p>
Most definitely a trade off in simplicity for flexibility. If you're like me, it will make your head hurt trying to understand it.
<p>
Each group of 4 pins can be hardware-configured for either input or output. For even greater flexibilty, four different modes are available. This is possible because of the pin layout of typical 4 channel optoisolators such as the LTV-845. For each physical DIP location the optoisolator can be installed in either orientation on either the top or bottom of the board! Quad (5-pin) bus resistor networks are installed in two different orientations depending on what is desired. The table at the bottom of the schematic helps to describe each configuration and what it might be used for.
<p>
It would take a lot of text here to fully explain this design but I'm certain that I would do more damage to your understanding than just leaving the schematic to be studied (which you would need to do anyway, trust me). The key thing to remember is that each set of 4 pins, top and bottom of schematic, have 4 possible orientations for the optoisolator and 2 possible orientations for each of the two resistor networks.
<p>
The LEDs on the right side are not drawn as their direction varies depending on which configuration is chosen. (Of course they can be ommitted - just short the pins.)
<p>
The PCB is available at <a href="https://oshpark.com/shared_projects/lH7jXZF9">OSHPark</a>. (as of 2018 ~$28 for 3 boards)
<p>
The resistor network values chosen depend on the configuration, voltages, and switches being used. A Wattstopper and Elexol combination would use configuration U4 for input and U5 for output. For my tests with Wattstopper LVSW I used 10K ohm for the button inputs (for pull up) and 100 ohms for the LED drive (the switches have large resistors in them). On the controller side, with 5V (Elexol) I used 1.5K ohm. Other optoisolators can be used as the pinout is common.
<p>
The switch side connectors can be a spring terminal block (2.54mm pitch, KF141V-10P or equivalent) or a 3.5mm pitch screw terminal block.
<p>
As the title of this article eludes to, the controller side of this adapter is pin-compatible with the Elexol products.

<h3>Wattstopper Wiring Tip</h3>
<p>
The 4-switch LVSW requires 4 inputs for buttons, 4 outputs for LEDs, and a common. You can use shielded (STP) catX cable as the shield has a 9th wire.

<h3>Example</h3>
<p>
This image is an example populated for input on the first 4 and output on the last 4.
<p>
<img src="../../../resources/Articles/2018/Isolated-8-IO-Adapter-Elexol/images/IMG_0317.jpg">

		 </div><!-- End content -->
	 </div><!-- End main content wrapper -->
  <div id="sidebarBackground"></div>
<div id="sidebarContainer"><!-- Start Sidebar wrapper -->
  <div class="sideHeader"></div><!-- Sidebar header -->
	 <div id="sidebar"><!-- Start sidebar content -->
	  <!-- sidebar content such as the blog archive links -->
	 <div class="clearer"></div>
		<!-- sidebar content you enter in the page inspector -->		
     </div><!-- End sidebar content -->
   </div><!-- End sidebar wrapper -->
 </div><!-- global_width -->
<div class="clearer"></div>	
  <div id="footer"><!-- Start Footer -->
   <div class="footer_breadcrumbcontainer"> </div>
	  <p>&copy; 2017-2022 Jedi Tek'Unum <a href="#" id="rw_email_contact">Contact Me</a><script type="text/javascript">var _rwObsfuscatedHref0 = "mai";var _rwObsfuscatedHref1 = "lto";var _rwObsfuscatedHref2 = ":je";var _rwObsfuscatedHref3 = "dit";var _rwObsfuscatedHref4 = "eku";var _rwObsfuscatedHref5 = "num";var _rwObsfuscatedHref6 = "-20";var _rwObsfuscatedHref7 = "22-";var _rwObsfuscatedHref8 = "d65";var _rwObsfuscatedHref9 = "f@q";var _rwObsfuscatedHref10 = "oru";var _rwObsfuscatedHref11 = "sca";var _rwObsfuscatedHref12 = "nt.";var _rwObsfuscatedHref13 = "com";var _rwObsfuscatedHref = _rwObsfuscatedHref0+_rwObsfuscatedHref1+_rwObsfuscatedHref2+_rwObsfuscatedHref3+_rwObsfuscatedHref4+_rwObsfuscatedHref5+_rwObsfuscatedHref6+_rwObsfuscatedHref7+_rwObsfuscatedHref8+_rwObsfuscatedHref9+_rwObsfuscatedHref10+_rwObsfuscatedHref11+_rwObsfuscatedHref12+_rwObsfuscatedHref13; document.getElementById("rw_email_contact").href = _rwObsfuscatedHref;</script></p>
  </div><!-- End Footer -->
</div><!-- End container -->

 <div id="up"><a href="#up"><span><i class="fa fa-angle-up"></i></span></a></div>

<!-- trigger options in multithemes.js -->
<div id="banner_parallax_on_off" class="settings"></div>
<div id="menuOpened" class="settings"></div>
<div id="banner_fade_in" class="settings"></div>

<!-- theme by http://www.multithemes.com -->
</body>
</html>
